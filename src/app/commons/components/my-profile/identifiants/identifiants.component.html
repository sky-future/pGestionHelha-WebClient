<div class="card">
  <h1 class="card-header">Mes identifiants</h1>
  <div class="card-body">
    <alert></alert>
    <ul class="list-group">

      <li class="list-group-item"><strong class="text-size">E-mail : </strong>
        <label class="text-size">{{this.user.userValue.mail}}</label>
      </li>

      <li class="list-group-item">
        <mat-icon (click)="showForm=!showForm">create</mat-icon>
        <strong class="text-size">Mot de passe :</strong>


        <form [formGroup]="formModel" *ngIf="showForm"  (ngSubmit)="confirmPasswordChange()" style="width: 400px;">

          <!--              Current password-->
          <div class="form-group">
            <input type="password" name="old_password"  id="defaultRegisterFormOldPassword" placeholder="Mot de passe actuel"
                   formControlName="currentPassword" class="form-control" >
          </div>

          <!--              New password-->
          <div class="form-group">
            <input type="password" name="new_password" [ngClass]="{ 'is-invalid': submitted && f.newPassword.errors }"
                   id="defaultRegisterFormNewPassword" placeholder="Nouveau mot de passe"
                   formControlName="newPassword" class="form-control">

            <div *ngIf="f.newPassword.errors" class="invalid-feedback">
              <div *ngIf="f.newPassword.errors.required">Password is required</div>
              <div *ngIf="f.newPassword.errors.pattern">Password must be at least 8 characters and maximum 15 with one digit,
                one
                upper case and one lower case
              </div>
            </div>
          </div>

          <!--              Confirm password-->
          <div class="form-group">
            <input type="password" [ngClass]="{ 'is-invalid':submitted && f.confirmPassword.errors }"
                   id="defaultRegisterFormConfirmNewPassword" placeholder="Confirmer mot de passe"
                   formControlName="confirmPassword" class="form-control">

            <div *ngIf="f.confirmPassword.errors" class="invalid-feedback">
              <div *ngIf="f.confirmPassword.errors.required">Confirm Password is required</div>
              <div *ngIf="f.confirmPassword.errors.mustMatch">Passwords must match</div>
            </div>
          </div>

          <div class="form-group text-center">
            <button type="submit" (submit)="showForm=!showForm" class="btn btn-default">Confirmer</button>
          </div>

        </form>
      </li>
    </ul>
  </div>
</div>
